{% extends "base.html" %}

{% block content %}
    <h2>Conversation with {{ contact_name }}</h2>

    <div class="conversation-messages">
        {% for message in messages %}
            <div class="message {% if message.sender_id == current_user.id %}sent-message{% else %}received-message{% endif %}">
                <p>{{ message.content }}</p>
                <p class="message-timestamp">{{ message.formatted_timestamp }}</p>
                <p>sender_id: {{ message.sender_id }}, current_user.id: {{ current_user.id }}</p>

                <p>message.sender_id: {{ message.sender_id }}</p>
                <p>current_user.id: {{ current_user.id }}</p>
            </div>
        {% endfor %}
    </div>


    <form method="GET" action="{{ url_for('respond_to_conversation', conversation_id=conversation.id) }}">
        <button type="submit" class="btn btn-secondary">Respond</button>
    </form>
    <br>
    <a href="{{ url_for('inbox') }}" >Back to Inbox</a>
{% endblock %}
